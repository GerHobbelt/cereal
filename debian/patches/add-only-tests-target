Author: Michael R. Crusoe <crusoe@ucdavis.edu>
Description: build just the tests, as an option for autopkgtest later
With assistance from Kevin D. Murray; thanks!
--- libcereal.orig/CMakeLists.txt
+++ libcereal/CMakeLists.txt
@@ -32,6 +32,8 @@
     endif()
 endif()
 
+option(ONLY_TESTS "Don't build docs, or sandbox" OFF)
+
 if(NOT CMAKE_VERSION VERSION_LESS 3.0)
     add_library(cereal INTERFACE)
     target_include_directories(cereal INTERFACE
@@ -49,18 +51,21 @@
     return()
 endif()
 
-include_directories(./include)
 
 # Boost serialization for performance sandbox
 find_package(Boost COMPONENTS serialization)
 
 if(Boost_FOUND)
   include_directories(SYSTEM ${Boost_INCLUDE_DIRS})
+  if(NOT ONLY_TEST)
+	  include_directories(./include)
+  endif(NOT ONLY_TEST)
 endif(Boost_FOUND)
   
 enable_testing()
 add_subdirectory(unittests)
-
-add_subdirectory(sandbox)
+if(NOT ONLY_TEST)
+	add_subdirectory(sandbox)
+endif(NOT ONLY_TEST)
 
 add_subdirectory(doc)
